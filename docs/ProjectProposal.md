# Project Proposal

### Team Name: Roux HaploQA 

### Team Members:
- Sanyami Shah
- Jasmine Owens
- Fangrui Guo
- Alexander Berger

#### Primary Proposal Author: Alexander Berger

## 1. Client and Stakeholders

### Clients
Dave Walton - The Jackson Laboratory<br>
Senior Principal Scientific Software Engineer<br>
Email: dave.walton@jax.org

Anna Lamoureux - The Jackson Laboratory<br>
Scientific Software Engineer<br>
Email: dave.walton@jax.org

### Stakeholders
Laura Reinholdt - The Jackson Laboratory<br>
Associate Professor<br>
[Web Bio](https://www.jax.org/research-and-faculty/faculty/laura-reinholdt)


## 2. Project Description
The Jackson Laboratory's Computational Sciences department would like to start the process of 
rebuilding HaploQA, a legacy scientific application. It is motivated to do so due to a request for a
major new feature, and to bring the application in line with current application interoperability
goals.


> HaploQA is a software platform that provides interpretation of genotype calls from the Mouse 
> Universal Genotyping array platforms (including Mega-/Giga- MUGA) that are available from Neogen 
> Genomics (Morgan et al., 2015). The software allows for direct upload of sample and genotype data,
> sample annotation, and organization by users. The software interprets genotype calls and uses 
> established Hidden Markov Models that were generated by Dr. Gary Churchillâ€™s laboratory to 
> generate haplotypes with negative log likelihood scoring. There are additional options for 
> interfacing with the data through a web-based graphics, links out to widely used genome browsers, 
> data/image/report downloads, and options for making the data public. If you want to read more 
> about MUGA platforms the following is a great resource:
>> Morgan AP et al.
>> The Mouse Universal Genotyping Array: From Substrains to Subspecies.
>> G3 (Bethesda). 2015 Dec 18;6(2):263-79. doi: 10.1534/g3.115.022087.
>> PMID: 26684931; PMCID: PMC4751547


## 3. Language and Resources

### License
The code will be released under the 
[MIT Public License](https://github.com/TheJacksonLaboratory/haploqa/blob/master/LICENSE.txt)

- Version Control: Git
- VCS Server: GitHub.com
- Code Review: GitHub.com Pull Request System
- Programming Languages (expected)
  - Backend Language: [Python 3.7+](https://www.python.org/)
  - Backend Framework:  [FastAPI](https://fastapi.tiangolo.com/)
  - Frontend Language: Javascript / [Typescript](https://www.typescriptlang.org/)
  - Frontend Framework: [Angular](https://angular.io/)
- Documentation Syntax: [Markdown](https://daringfireball.net/projects/markdown/) 

## 4. Project Goals
List all of your project goals divided up into primary, secondary and tertiary 
goals. 
- Primary goals 
  - Provide capability for interpretation of genotype calls from the Mouse Universal Genotyping 
  array platforms
- Secondary goals 
  - Lay the Software Engineering Groundwork for the project to rebuild HaploQA 
  - Complete at least one identified possible code contributions
- Tertiary goals 
  - Foster innovation through collaboration and communication between Roux and GeDI (Jax) teams
  - Gain experience working in an environment where some project components will be completed by a 
  - separate team.
  - Gain experience working in an open team style and in actively adapting team roles to current 
  conditions.

### Possible Code Contributions
- Roux team rewrites the front-end entirely
- Roux team takes the existing visualizations and makes them pluggable modules
- Roux team writes a new FastAPI back end that is responsible for managing the "QA/QC" app, storing 
only data necessary for that app, and interacting with services for HMM and Genotype/SNP Storage

- GeDI team takes a new "General AIL QTL2 Library" to replace Keith's HMM for Haplotype 
reconstruction of Non-DO mice
- GeDI team moves genotype intake to SIP
- GeDI team moves genotype/snp sample storage to BigQuery
- GeDI team provides API end-points to fetch sample data and genotype probabilities for HaploQA

## 5. Approvals
Team members must agree to and sign the [team contract](./TeamContract.md)

Approvals for code contributions will happen through the GitHub.com Pull Request system and be
reviewed by the team.

Approvals from clients will happen through the GitHub.com Pull Request system where appropriate and
email elsewhere.


## 6. Log
This document is to be tracked and reviewed in version control (see above 
Section 3). The change history to this document must be made available for 
review, with a specific emphasis on revision. 

*Proposal: To facilitate easy review of the change of this document, it is 
proposed that we name our "Pull Requests" in the scheme*

`Software Engineerig Project Proposal - Ver #.#`