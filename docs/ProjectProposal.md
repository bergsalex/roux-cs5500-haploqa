# Project Proposal - Version 1.2.0

### Team Name: Roux HaploQA 

### Team Members:
- Fangrui Guo
- Alexander Berger

#### Primary Proposal Author: Alexander Berger

## 1. Client and Stakeholders

### Clients
Dave Walton - The Jackson Laboratory<br>
Senior Principal Scientific Software Engineer<br>
Email: dave.walton@jax.org

Anna Lamoureux - The Jackson Laboratory<br>
Scientific Software Engineer<br>
Email: dave.walton@jax.org

### Stakeholders
Laura Reinholdt - The Jackson Laboratory<br>
Associate Professor<br>
[Web Bio](https://www.jax.org/research-and-faculty/faculty/laura-reinholdt)


## 2. Project Description
The Jackson Laboratory's Computational Sciences department would like to start the process of 
rebuilding HaploQA, a legacy scientific application. It is motivated to do so due to a request for a
major new feature, and to bring the application in line with current application interoperability
goals.


> HaploQA is a software platform that provides interpretation of genotype calls from the Mouse 
> Universal Genotyping array platforms (including Mega-/Giga- MUGA) that are available from Neogen 
> Genomics (Morgan et al., 2015). The software allows for direct upload of sample and genotype data,
> sample annotation, and organization by users. The software interprets genotype calls and uses 
> established Hidden Markov Models that were generated by Dr. Gary Churchillâ€™s laboratory to 
> generate haplotypes with negative log likelihood scoring. There are additional options for 
> interfacing with the data through a web-based graphics, links out to widely used genome browsers, 
> data/image/report downloads, and options for making the data public. If you want to read more 
> about MUGA platforms the following is a great resource:
>> Morgan AP et al.
>> The Mouse Universal Genotyping Array: From Substrains to Subspecies.
>> G3 (Bethesda). 2015 Dec 18;6(2):263-79. doi: 10.1534/g3.115.022087.
>> PMID: 26684931; PMCID: PMC4751547

We have been asked to design a frontend application in the Angular frontend framework that utilizes
a modular visualization design, to build these modular visualizations by migrating them
from legacy HaploQA, and to start migrating the legacy frontend application pages. 

We will be provided with an API contract (as an OAS3 doc) that our frontend will utilize during 
development since the GeDI team at The Jackson Laboratory will not yet have implemented that system.


## 3. Language and Resources
- Version Control: Git
- VCS Server: GitHub.com
- Code Review: GitHub.com Pull Request System
- Issue Tracking: GitHub.com Issues
- Project Tracking (agile board): GitHub.com Projects
- Programming Languages (expected)
  - Frontend Language: Javascript / [Typescript](https://www.typescriptlang.org/)
  - Frontend Framework: [Angular](https://angular.io/)
- Documentation Syntax: [Markdown](https://daringfireball.net/projects/markdown/) 
- Versioning System: [Semantic Versioning](https://semver.org/)
- API Description: [OpenAPI Specification (OAS) v3.\*.\*](https://github.com/OAI/OpenAPI-Specification)
- License: [MIT Public License](https://github.com/TheJacksonLaboratory/haploqa/blob/master/LICENSE.txt)

## 4. Project Goals
The overall goal of the HaploQA project is to provide capability for interpretation of genotype 
calls from the Mouse Universal Genotyping array platforms.

For our specific constributions our goals are as follows:
- Primary
  - Modularize at least one existing visualzation
    - Design should fundamentally enable utilizing modular visualizations
  - Rebuild the HaploQA sample detail page to client specifications
    - Specifically it must utilize the vizualization module architecture from the first goal
- Secondary goals 
  - Rebuild the sample listing page
  - Rebuld the sample search and search results page
- Tertiary goals 
  - Modularize both existing visualizations
  - Provide all other existing capabilities in the current HaploQA
  - Explore the possibility of implementing quality of life improvements
    - Navigation, searching and listing are not as well implemented as users would like
    - Users frequently request the ability to take "bulk" actions across many samples

### Goal Considerations
- The Jackson Laboratory will provide an OAS3 API contact for how to utilize the future backend API
- Each visualization is custom and The Jackson Laboratory does not believe there are  pre-existing
solutions
- The Jackson Laboratory recommends using a tool like NX to make packaging easier
- The data input for the existing visualizations is not expected to change a during this migration
  - We can use the existing legacy visualizations to understand what data will be used for the
  new visualizations


## 5. Approvals
Team members must agree to and sign the [team contract](./TeamContract.md).

Approvals for code contributions will happen through the GitHub.com Pull Request system and be
reviewed by the team.

Approvals from clients will happen through the GitHub.com Pull Request system where appropriate and
email elsewhere.


## 6. Log
This document is to be tracked and reviewed in version control (see above 
Section 3). The change history to this document must be made available for 
review, with a specific emphasis on revision. 

To easily identify the version of the document being viewed, we will keep a semantic version for
the document up to date and immediately visible on the title line.

When applying [Semantic Versioning](https://semver.org/) to a document, apply semantic versioning to a document:
- MAJOR version for changes that fundamentally alter the document's content
  - these types of changes include adding or removing project goals, team members, stakeholders, 
  and altering the approval process
- MINOR versions for changes that clarify the document's content
  - these types of changes that include rewording, expansion, and revision,
- PATCH version should only be used for spelling and formatting fixes

> NOTE: Changes to Language and Resources can fall in either can be either MAJOR or MINOR and should
> evaluated on a case by base basis.

To facilitate easy review of the change of this document, we will name our "Pull Requests" in the 
scheme: `Software Engineerig Project Proposal - Ver #.#.#`