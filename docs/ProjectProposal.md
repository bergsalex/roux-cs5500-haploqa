# Project Proposal

### Team Name: Roux HaploQA 

### Team Members:
- Sanyami Shah
- Jasmine Owens
- Fangrui Guo
- Alexander Berger

#### Primary Proposal Author: Alexander Berger

## 1. Client and Stakeholders

### Clients
Dave Walton - The Jackson Laboratory<br>
Senior Principal Scientific Software Engineer<br>
Email: dave.walton@jax.org

Anna Lamoureux - The Jackson Laboratory<br>
Scientific Software Engineer<br>
Email: dave.walton@jax.org

### Stakeholders
Laura Reinholdt - The Jackson Laboratory<br>
Associate Professor<br>
[Web Bio](https://www.jax.org/research-and-faculty/faculty/laura-reinholdt)


## 2. Project Description
The Jackson Laboratory's Computational Sciences department would like to start the process of 
rebuilding HaploQA, a legacy scientific application. It is motivated to do so due to a request for a
major new feature, and to bring the application in line with current application interoperability
goals.


> HaploQA is a software platform that provides interpretation of genotype calls from the Mouse 
> Universal Genotyping array platforms (including Mega-/Giga- MUGA) that are available from Neogen 
> Genomics (Morgan et al., 2015). The software allows for direct upload of sample and genotype data,
> sample annotation, and organization by users. The software interprets genotype calls and uses 
> established Hidden Markov Models that were generated by Dr. Gary Churchillâ€™s laboratory to 
> generate haplotypes with negative log likelihood scoring. There are additional options for 
> interfacing with the data through a web-based graphics, links out to widely used genome browsers, 
> data/image/report downloads, and options for making the data public. If you want to read more 
> about MUGA platforms the following is a great resource:
>> Morgan AP et al.
>> The Mouse Universal Genotyping Array: From Substrains to Subspecies.
>> G3 (Bethesda). 2015 Dec 18;6(2):263-79. doi: 10.1534/g3.115.022087.
>> PMID: 26684931; PMCID: PMC4751547

We have been asked to design a frontend application in the Angular frontend framework that utilizes
a modular visualization design, to build these modular visualizations by migrating them
from legacy HaploQA, and to start migrating the legacy frontend application pages. 

We will be provided with an API contract (as an OAS3 doc) that our frontend will utilize during 
development since the GeDI team at The Jackson Laboratory will not yet have implemented that system.


## 3. Language and Resources

- Version Control: Git
- VCS Server: GitHub.com
- Code Review: GitHub.com Pull Request System
- Programming Languages (expected)
  - Frontend Language: Javascript / [Typescript](https://www.typescriptlang.org/)
  - Frontend Framework: [Angular](https://angular.io/)
- Documentation Syntax: [Markdown](https://daringfireball.net/projects/markdown/) 
- API Description: [OpenAPI Specification (OAS) v3.\*.\*](https://github.com/OAI/OpenAPI-Specification)
- License: [MIT Public License](https://github.com/TheJacksonLaboratory/haploqa/blob/master/LICENSE.txt)

## 4. Project Goals
List all of your project goals divided up into primary, secondary and tertiary 
goals. 
- Primary goals 
  - Provide capability for interpretation of genotype calls from the Mouse Universal Genotyping 
  array platforms
- Secondary goals 
  - Lay the Software Engineering Groundwork for the project to rebuild HaploQA 
  - Deliver a modularized visualization
  - Deliver a frontend application that utilizes the modularized visualization
- Tertiary goals 
  - Foster innovation through collaboration and communication between Roux and GeDI (Jax) teams
  - Gain experience working in an environment where some project components will be completed by a 
  - separate team.
  - Gain experience working in an open team style and in actively adapting team roles to current 
  conditions.

### Code Contributions
- Roux team rewrites the front-end entirely
  - Utilize GeDI API contact for expected backend
  - Utilize application scaffolding and styling from The Jackson Laboratory
  - Utilize Oauth & JWT as specified by The Jackson Laboratory
  - Design should fundamentally enable utilizing modular visualizations
  - Explore the possibility of implementing quality of life improvements
    - Navigation, searching and listing are not as well implemented as users would like
    - Users frequently request the ability to take "bulk" actions across many samples
- Roux team takes the existing visualizations and makes them pluggable modules
  - We need to figure out what to do about the visualization regardless
  - At least need to be able to take the existing visualizations and put them in a module or component
  - Each visualization is custom and The Jackson Laboratory does not believe there are  pre-existing
  solutions
  - The Jackson Laboratory recommends using a tool like NX to make packaging easier
  - The data input for the existing visualizations is not expected to change a during this migration
    - We can use the existing legacy visualizations to understand what data will be used for the
    new visualizations

- GeDI team provides an OAS3 API contact

## 5. Approvals
Team members must agree to and sign the [team contract](./TeamContract.md).

Approvals for code contributions will happen through the GitHub.com Pull Request system and be
reviewed by the team.

Approvals from clients will happen through the GitHub.com Pull Request system where appropriate and
email elsewhere.


## 6. Log
This document is to be tracked and reviewed in version control (see above 
Section 3). The change history to this document must be made available for 
review, with a specific emphasis on revision. 

*Proposal: To facilitate easy review of the change of this document, it is 
proposed that we name our "Pull Requests" in the scheme*

`Software Engineerig Project Proposal - Ver #.#`